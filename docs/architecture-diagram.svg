<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 800">
  <defs>
    <style>
      .title { font: bold 24px sans-serif; fill: #1f2937; }
      .subtitle { font: bold 16px sans-serif; fill: #374151; }
      .text { font: 14px sans-serif; fill: #4b5563; }
      .small-text { font: 12px sans-serif; fill: #6b7280; }
      .layer-title { font: bold 18px sans-serif; fill: white; }
      
      .client-layer { fill: #3b82f6; }
      .nextjs-layer { fill: #10b981; }
      .supabase-layer { fill: #f59e0b; }
      
      .box { fill: white; stroke: #e5e7eb; stroke-width: 2; rx: 8; }
      .arrow { stroke: #6b7280; stroke-width: 2; fill: none; marker-end: url(#arrowhead); }
      .data-arrow { stroke: #3b82f6; stroke-width: 2; fill: none; marker-end: url(#arrowhead-blue); stroke-dasharray: 5,5; }
    </style>
    
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#6b7280" />
    </marker>
    <marker id="arrowhead-blue" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#3b82f6" />
    </marker>
  </defs>
  
  <!-- Title -->
  <text x="600" y="40" text-anchor="middle" class="title">NST Stack Architecture</text>
  
  <!-- Client Layer -->
  <rect x="50" y="80" width="1100" height="150" class="client-layer" rx="12" />
  <text x="600" y="110" text-anchor="middle" class="layer-title">Client Browser Layer</text>
  
  <rect x="100" y="130" width="280" height="80" class="box" />
  <text x="240" y="155" text-anchor="middle" class="subtitle">UI Components</text>
  <text x="240" y="175" text-anchor="middle" class="text">Shadcn UI</text>
  <text x="240" y="195" text-anchor="middle" class="small-text">Button, Dialog, Form, Table</text>
  
  <rect x="420" y="130" width="280" height="80" class="box" />
  <text x="560" y="155" text-anchor="middle" class="subtitle">Styling</text>
  <text x="560" y="175" text-anchor="middle" class="text">Tailwind CSS</text>
  <text x="560" y="195" text-anchor="middle" class="small-text">Utility-first CSS</text>
  
  <rect x="740" y="130" width="280" height="80" class="box" />
  <text x="880" y="155" text-anchor="middle" class="subtitle">State Management</text>
  <text x="880" y="175" text-anchor="middle" class="text">TanStack Query</text>
  <text x="880" y="195" text-anchor="middle" class="small-text">Caching, Refetching</text>
  
  <!-- Next.js Layer -->
  <rect x="50" y="280" width="1100" height="200" class="nextjs-layer" rx="12" />
  <text x="600" y="310" text-anchor="middle" class="layer-title">Next.js App Router Layer</text>
  
  <rect x="100" y="330" width="250" height="120" class="box" />
  <text x="225" y="355" text-anchor="middle" class="subtitle">Server Components</text>
  <text x="225" y="380" text-anchor="middle" class="text">page.tsx</text>
  <text x="225" y="400" text-anchor="middle" class="small-text">‚Ä¢ SSR/SSG</text>
  <text x="225" y="418" text-anchor="middle" class="small-text">‚Ä¢ Initial Data Fetch</text>
  <text x="225" y="436" text-anchor="middle" class="small-text">‚Ä¢ SEO Optimized</text>
  
  <rect x="380" y="330" width="250" height="120" class="box" />
  <text x="505" y="355" text-anchor="middle" class="subtitle">Server Actions</text>
  <text x="505" y="380" text-anchor="middle" class="text">actions.ts</text>
  <text x="505" y="400" text-anchor="middle" class="small-text">‚Ä¢ CRUD Operations</text>
  <text x="505" y="418" text-anchor="middle" class="small-text">‚Ä¢ Type-safe RPC</text>
  <text x="505" y="436" text-anchor="middle" class="small-text">‚Ä¢ revalidatePath()</text>
  
  <rect x="660" y="330" width="250" height="120" class="box" />
  <text x="785" y="355" text-anchor="middle" class="subtitle">Middleware</text>
  <text x="785" y="380" text-anchor="middle" class="text">middleware.ts</text>
  <text x="785" y="400" text-anchor="middle" class="small-text">‚Ä¢ Auth Check</text>
  <text x="785" y="418" text-anchor="middle" class="small-text">‚Ä¢ i18n Routing</text>
  <text x="785" y="436" text-anchor="middle" class="small-text">‚Ä¢ Session Refresh</text>
  
  <rect x="940" y="330" width="180" height="120" class="box" />
  <text x="1030" y="355" text-anchor="middle" class="subtitle">Features</text>
  <text x="1030" y="380" text-anchor="middle" class="small-text">employees/</text>
  <text x="1030" y="398" text-anchor="middle" class="small-text">prizes/</text>
  <text x="1030" y="416" text-anchor="middle" class="small-text">registrations/</text>
  <text x="1030" y="434" text-anchor="middle" class="small-text">login/</text>
  
  <!-- Supabase Layer -->
  <rect x="50" y="530" width="1100" height="200" class="supabase-layer" rx="12" />
  <text x="600" y="560" text-anchor="middle" class="layer-title">Supabase Backend Layer</text>
  
  <rect x="100" y="580" width="250" height="120" class="box" />
  <text x="225" y="605" text-anchor="middle" class="subtitle">PostgreSQL</text>
  <text x="225" y="630" text-anchor="middle" class="text">Database</text>
  <text x="225" y="650" text-anchor="middle" class="small-text">‚Ä¢ Tables &amp; Views</text>
  <text x="225" y="668" text-anchor="middle" class="small-text">‚Ä¢ Row Level Security</text>
  <text x="225" y="686" text-anchor="middle" class="small-text">‚Ä¢ Triggers &amp; Functions</text>
  
  <rect x="380" y="580" width="250" height="120" class="box" />
  <text x="505" y="605" text-anchor="middle" class="subtitle">Authentication</text>
  <text x="505" y="630" text-anchor="middle" class="text">Supabase Auth</text>
  <text x="505" y="650" text-anchor="middle" class="small-text">‚Ä¢ JWT Sessions</text>
  <text x="505" y="668" text-anchor="middle" class="small-text">‚Ä¢ Email/Password</text>
  <text x="505" y="686" text-anchor="middle" class="small-text">‚Ä¢ Cookie Storage</text>
  
  <rect x="660" y="580" width="250" height="120" class="box" />
  <text x="785" y="605" text-anchor="middle" class="subtitle">Storage</text>
  <text x="785" y="630" text-anchor="middle" class="text">File Storage</text>
  <text x="785" y="650" text-anchor="middle" class="small-text">‚Ä¢ Private Buckets</text>
  <text x="785" y="668" text-anchor="middle" class="small-text">‚Ä¢ Signed URLs</text>
  <text x="785" y="686" text-anchor="middle" class="small-text">‚Ä¢ Image Optimization</text>
  
  <rect x="940" y="580" width="180" height="120" class="box" />
  <text x="1030" y="605" text-anchor="middle" class="subtitle">Realtime</text>
  <text x="1030" y="630" text-anchor="middle" class="text">(Optional)</text>
  <text x="1030" y="650" text-anchor="middle" class="small-text">‚Ä¢ Subscriptions</text>
  <text x="1030" y="668" text-anchor="middle" class="small-text">‚Ä¢ Live Updates</text>
  <text x="1030" y="686" text-anchor="middle" class="small-text">‚Ä¢ Broadcasts</text>
  
  <!-- Arrows -->
  <!-- Client to Next.js -->
  <path d="M 240 210 L 240 330" class="arrow" />
  <path d="M 560 210 L 505 330" class="arrow" />
  <path d="M 880 210 L 785 330" class="arrow" />
  
  <!-- Next.js to Supabase -->
  <path d="M 225 450 L 225 580" class="arrow" />
  <path d="M 505 450 L 505 580" class="arrow" />
  <path d="M 785 450 L 785 580" class="arrow" />
  
  <!-- Data Flow Arrows -->
  <path d="M 880 230 L 1050 230 L 1050 390 L 225 390 L 225 450" class="data-arrow" />
  
  <!-- Labels -->
  <text x="150" y="260" class="small-text">User Interaction</text>
  <text x="150" y="510" class="small-text">Server Operations</text>
  <text x="950" y="260" class="small-text" fill="#3b82f6">‚Üê Data Flow</text>
  
  <!-- Legend -->
  <rect x="50" y="750" width="300" height="30" fill="#f9fafb" stroke="#e5e7eb" stroke-width="1" rx="4" />
  <text x="60" y="770" class="small-text">üîµ Client-side | üü¢ Server-side | üü† Backend</text>
</svg>
